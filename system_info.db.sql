BEGIN TRANSACTION;
CREATE TABLE battery_info (record_id INTEGER PRIMARY KEY ASC AUTOINCREMENT, Tag INT, Name TEXT, PowerOnline BOOLEAN, Discharging BOOLEAN, Charging BOOLEAN, Voltage BIGINT, DischargeRate BIGINT, ChargeRate BIGINT, RemainingCapacity BIGINT, Active BOOLEAN, Critical BOOLEAN, DesignCapacity BIGINT, FullChargedCapacity BIGINT, INSERT_DATE DATETIME);
INSERT INTO "battery_info" VALUES(1,1,'ACPI\PNP0C0A\1_0','False','True','False',7184,5723,0,4917,'True','False',67990,67997,'2018-08-25 17:51:26');
INSERT INTO "battery_info" VALUES(2,1,'ACPI\PNP0C0A\1_0','False','True','False',7188,6019,0,4872,'True','False',67990,67997,'2018-08-25 17:51:49');
INSERT INTO "battery_info" VALUES(3,1,'ACPI\PNP0C0A\1_0','False','True','False',7149,7007,0,4849,'True','False',67990,67997,'2018-08-25 17:52:02');
INSERT INTO "battery_info" VALUES(4,1,'ACPI\PNP0C0A\1_0','False','True','False',7179,6323,0,4803,'True','False',67990,67997,'2018-08-25 17:52:25');
INSERT INTO "battery_info" VALUES(5,1,'ACPI\PNP0C0A\1_0','False','True','False',7160,6650,0,4788,'True','False',67990,67997,'2018-08-25 17:52:30');
INSERT INTO "battery_info" VALUES(6,1,'ACPI\PNP0C0A\1_0','True','False','True',7690,0,31973,3914,'True','False',67990,67997,'2018-08-25 18:14:09');
INSERT INTO "battery_info" VALUES(7,1,'ACPI\PNP0C0A\1_0','False','True','False',7282,6483,0,4074,'True','False',67990,67997,'2018-08-25 18:15:08');
INSERT INTO "battery_info" VALUES(8,1,'ACPI\PNP0C0A\1_0','False','True','False',7241,7387,0,4051,'True','False',67990,67997,'2018-08-25 18:15:19');
INSERT INTO "battery_info" VALUES(9,1,'ACPI\PNP0C0A\1_0','True','False','True',7328,0,8,4028,'True','False',67990,67997,'2018-08-25 18:15:32');
INSERT INTO "battery_info" VALUES(10,1,'ACPI\PNP0C0A\1_0','True','False','True',7346,0,11400,4036,'True','False',67990,67997,'2018-08-25 18:15:34');
INSERT INTO "battery_info" VALUES(11,1,'ACPI\PNP0C0A\1_0','True','False','True',7648,0,34185,4051,'True','False',67990,67997,'2018-08-25 18:15:36');
INSERT INTO "battery_info" VALUES(12,1,'ACPI\PNP0C0A\1_0','True','False','True',7830,0,34382,8170,'True','False',67990,67997,'2018-08-25 18:22:48');
INSERT INTO "battery_info" VALUES(13,1,'ACPI\PNP0C0A\1_0','True','False','True',7838,0,34208,8216,'True','False',67990,67997,'2018-08-25 18:22:53');
INSERT INTO "battery_info" VALUES(14,1,'ACPI\PNP0C0A\1_0','True','False','True',7843,0,33790,8778,'True','False',67990,67997,'2018-08-25 18:23:51');
INSERT INTO "battery_info" VALUES(15,1,'ACPI\PNP0C0A\1_0','True','False','True',7860,0,34360,9348,'True','False',67990,67997,'2018-08-25 18:24:51');
INSERT INTO "battery_info" VALUES(16,1,'ACPI\PNP0C0A\1_0','True','False','True',7871,0,34390,9933,'True','False',67990,67997,'2018-08-25 18:25:52');
INSERT INTO "battery_info" VALUES(17,1,'ACPI\PNP0C0A\1_0','True','False','True',7879,0,34261,10503,'True','False',67990,67997,'2018-08-25 18:26:52');
INSERT INTO "battery_info" VALUES(18,1,'ACPI\PNP0C0A\1_0','True','False','True',7891,0,34291,11088,'True','False',67990,67997,'2018-08-25 18:27:52');
INSERT INTO "battery_info" VALUES(19,1,'ACPI\PNP0C0A\1_0','True','False','True',7901,0,34382,11651,'True','False',67990,67997,'2018-08-25 18:28:52');
INSERT INTO "battery_info" VALUES(20,1,'ACPI\PNP0C0A\1_0','True','False','True',7905,0,34040,12228,'True','False',67990,67997,'2018-08-25 18:29:52');
INSERT INTO "battery_info" VALUES(21,1,'ACPI\PNP0C0A\1_0','True','False','True',7919,0,34390,12806,'True','False',67990,67997,'2018-08-25 18:30:52');
INSERT INTO "battery_info" VALUES(22,1,'ACPI\PNP0C0A\1_0','True','False','True',7927,0,34398,13384,'True','False',67990,67997,'2018-08-25 18:31:52');
INSERT INTO "battery_info" VALUES(23,1,'ACPI\PNP0C0A\1_0','True','False','True',7934,0,34268,13961,'True','False',67990,67997,'2018-08-25 18:32:52');
INSERT INTO "battery_info" VALUES(24,1,'ACPI\PNP0C0A\1_0','True','False','True',7941,0,34390,14531,'True','False',67990,67997,'2018-08-25 18:33:52');
INSERT INTO "battery_info" VALUES(25,1,'ACPI\PNP0C0A\1_0','True','False','True',7948,0,34367,15101,'True','False',67990,67997,'2018-08-25 18:34:52');
INSERT INTO "battery_info" VALUES(26,1,'ACPI\PNP0C0A\1_0','True','False','True',7950,0,34276,15686,'True','False',67990,67997,'2018-08-25 18:35:53');
INSERT INTO "battery_info" VALUES(27,1,'ACPI\PNP0C0A\1_0','True','False','True',7955,0,34390,16256,'True','False',67990,67997,'2018-08-25 18:36:53');
INSERT INTO "battery_info" VALUES(28,1,'ACPI\PNP0C0A\1_0','True','False','True',7960,0,34398,16834,'True','False',67990,67997,'2018-08-25 18:37:53');
INSERT INTO "battery_info" VALUES(29,1,'ACPI\PNP0C0A\1_0','True','False','True',7966,0,34352,17412,'True','False',67990,67997,'2018-08-25 18:38:53');
INSERT INTO "battery_info" VALUES(30,1,'ACPI\PNP0C0A\1_0','True','False','True',7970,0,34063,17982,'True','False',67990,67997,'2018-08-25 18:39:53');
INSERT INTO "battery_info" VALUES(31,1,'ACPI\PNP0C0A\1_0','True','False','True',7969,0,33113,18559,'True','False',67990,67997,'2018-08-25 18:40:53');
INSERT INTO "battery_info" VALUES(32,1,'ACPI\PNP0C0A\1_0','True','False','True',7977,0,34329,19122,'True','False',67990,67997,'2018-08-25 18:41:53');
INSERT INTO "battery_info" VALUES(33,1,'ACPI\PNP0C0A\1_0','True','False','True',7983,0,34398,19692,'True','False',67990,67997,'2018-08-25 18:42:53');
INSERT INTO "battery_info" VALUES(34,1,'ACPI\PNP0C0A\1_0','True','False','True',7990,0,34162,20262,'True','False',67990,67997,'2018-08-25 18:43:53');
INSERT INTO "battery_info" VALUES(35,1,'ACPI\PNP0C0A\1_0','True','False','True',7981,0,32650,20946,'True','False',67990,67997,'2018-08-25 18:45:04');
INSERT INTO "battery_info" VALUES(36,1,'ACPI\PNP0C0A\1_0','False','True','False',7666,8147,0,21348,'True','False',67990,67997,'2018-08-25 18:46:04');
INSERT INTO "battery_info" VALUES(37,1,'ACPI\PNP0C0A\1_0','False','True','False',7569,9052,0,21204,'True','False',67990,67997,'2018-08-25 18:47:04');
INSERT INTO "battery_info" VALUES(38,1,'ACPI\PNP0C0A\1_0','False','True','False',7468,14037,0,21029,'True','False',67990,67997,'2018-08-25 18:48:05');
INSERT INTO "battery_info" VALUES(39,1,'ACPI\PNP0C0A\1_0','False','True','False',7516,8884,0,20870,'True','False',67990,67997,'2018-08-25 18:49:05');
INSERT INTO "battery_info" VALUES(40,1,'ACPI\PNP0C0A\1_0','False','True','False',7407,20490,0,20702,'True','False',67990,67997,'2018-08-25 18:50:05');
INSERT INTO "battery_info" VALUES(41,1,'ACPI\PNP0C0A\1_0','False','True','False',7443,16629,0,20505,'True','False',67990,67997,'2018-08-25 18:51:05');
INSERT INTO "battery_info" VALUES(42,1,'ACPI\PNP0C0A\1_0','True','False','True',7785,0,33280,20421,'True','False',67990,67997,'2018-08-25 18:52:05');
DELETE FROM "sqlite_sequence";
INSERT INTO "sqlite_sequence" VALUES('battery_info',42);
CREATE TRIGGER trg_upd_date AFTER INSERT ON battery_info FOR EACH ROW BEGIN UPDATE battery_info SET INSERT_DATE = strftime('%Y-%m-%d %H:%M:%S', 'now', 'localtime') WHERE record_id = new.record_id; END;
CREATE VIEW battery_brief AS select battery_info.Charging, 
ROUND(cast(battery_info.RemainingCapacity AS DOUBLE)  / cast(battery_info.FullChargedCapacity AS DOUBLE) * 100, 4) as percent
, INSERT_DATE from battery_info;
COMMIT;
